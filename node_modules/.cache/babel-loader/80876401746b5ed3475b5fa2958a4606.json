{"ast":null,"code":"import _objectSpread from \"/Users/pradeeph/Documents/Upgrad_FullStackDevelopment/UpgradCourse7ImageViewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/pradeeph/Documents/Upgrad_FullStackDevelopment/UpgradCourse7ImageViewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pradeeph/Documents/Upgrad_FullStackDevelopment/UpgradCourse7ImageViewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/pradeeph/Documents/Upgrad_FullStackDevelopment/UpgradCourse7ImageViewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/pradeeph/Documents/Upgrad_FullStackDevelopment/UpgradCourse7ImageViewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/pradeeph/Documents/Upgrad_FullStackDevelopment/UpgradCourse7ImageViewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/pradeeph/Documents/Upgrad_FullStackDevelopment/UpgradCourse7ImageViewer/src/screens/profile/Profile.js\";\nimport React, { Component } from 'react';\nimport './Profile.css';\nimport { constants } from '../../common/utils';\nimport Header from '../../common/header/Header';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Fab from '@material-ui/core/Fab';\nimport Icon from '@material-ui/core/Icon';\nimport Modal from '@material-ui/core/Modal';\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIconBorder from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIconFill from '@material-ui/icons/Favorite';\nvar styles = {\n  paper: {\n    position: 'relative',\n    width: \"180px\",\n    backgroundColor: \"#fff\",\n    top: \"30%\",\n    margin: \"0 auto\",\n    boxShadow: \"2px 2px #888888\",\n    padding: \"20px\"\n  },\n  media: {\n    height: '200px',\n    paddingTop: '56.25%' // 16:9\n\n  },\n  imageModal: {\n    backgroundColor: \"#fff\",\n    margin: \"0 auto\",\n    boxShadow: \"2px 2px #888888\",\n    padding: \"10px\"\n  }\n};\n\nvar Profile = /*#__PURE__*/function (_Component) {\n  _inherits(Profile, _Component);\n\n  var _super = _createSuper(Profile);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _super.call(this, props);\n\n    _this.getBaseUserInfo = function () {\n      var that = _assertThisInitialized(_this);\n\n      var url = \"\".concat(constants.userInfoUrl, \"=\").concat(sessionStorage.getItem('access-token'));\n      return fetch(url, {\n        method: 'GET'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (jsonResponse) {\n        that.setState({\n          userInfo: jsonResponse.data\n        });\n\n        _this.state.userInfo.map(function (data, index) {\n          return _this.getMediaData(data.id);\n        });\n      }).catch(function (error) {\n        console.log('error user data', error);\n      });\n    };\n\n    _this.getMediaData = function (id) {\n      var that = _assertThisInitialized(_this);\n\n      var url = \"\".concat(constants.userMediaUrl, \"/\").concat(id, \"?fields=id,media_type,media_url,username,timestamp&access_token=&access_token=\").concat(sessionStorage.getItem('access-token'));\n      return fetch(url, {\n        method: 'GET'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (jsonResponse) {\n        that.setState({\n          filteredData: _this.state.filteredData.concat(jsonResponse),\n          username: jsonResponse.username\n        });\n      }).catch(function (error) {\n        console.log('error user data', error);\n      });\n    };\n\n    _this.handleOpenEditModal = function () {\n      _this.setState({\n        editOpen: true\n      });\n    };\n\n    _this.handleCloseEditModal = function () {\n      _this.setState({\n        editOpen: false\n      });\n    };\n\n    _this.handleOpenImageModal = function (event) {\n      var result = _this.state.userInfo.find(function (item) {\n        return item.id === event.target.id;\n      });\n\n      var mediaResult = _this.state.filteredData.find(function (item) {\n        return item.id === event.target.id;\n      });\n\n      console.log(result);\n\n      _this.setState({\n        imageModalOpen: true,\n        currentItem: result,\n        mediaData: mediaResult\n      });\n    };\n\n    _this.handleCloseImageModal = function () {\n      _this.setState({\n        imageModalOpen: false\n      });\n    };\n\n    _this.inputFullNameChangeHandler = function (e) {\n      _this.setState({\n        newFullName: e.target.value\n      });\n    };\n\n    _this.updateClickHandler = function () {\n      if (_this.state.newFullName === '') {\n        _this.setState({\n          fullNameRequired: 'dispBlock'\n        });\n      } else {\n        _this.setState({\n          fullNameRequired: 'dispNone'\n        });\n      }\n\n      if (_this.state.newFullName === \"\") {\n        return;\n      }\n\n      _this.setState({\n        full_name: _this.state.newFullName\n      });\n\n      _this.handleCloseEditModal();\n    };\n\n    _this.onLikedClicked = function (id) {\n      var likeCount = _this.state.likes;\n\n      if (!_this.state.isLiked) {\n        likeCount = _this.state.likes++;\n      } else {\n        likeCount = _this.state.likes--;\n      }\n\n      if (_this.state.isLiked) {\n        _this.setState({\n          isLiked: false\n        });\n      } else {\n        _this.setState({\n          isLiked: true\n        });\n      }\n\n      _this.props.onLikedClicked(id);\n    };\n\n    _this.onAddCommentClicked = function (id) {\n      console.log('id', id);\n\n      if (_this.state.currentComment === \"\" || typeof _this.state.currentComment === undefined) {\n        return;\n      }\n\n      var commentList = _this.state.comments.hasOwnProperty(id) ? _this.state.comments[id].concat(_this.state.currentComment) : [].concat(_this.state.currentComment);\n\n      _this.setState({\n        comments: _objectSpread(_objectSpread({}, _this.state.comments), {}, {\n          [id]: commentList\n        }),\n        currentComment: ''\n      });\n    };\n\n    _this.commentChangeHandler = function (e) {\n      _this.setState({\n        currentComment: e.target.value\n      });\n    };\n\n    _this.logout = function () {\n      sessionStorage.clear();\n\n      _this.props.history.replace('/');\n    };\n\n    if (sessionStorage.getItem('access-token') == null) {\n      props.history.replace('/');\n    }\n\n    _this.state = {\n      profile_picture: 'profile.png',\n      username: null,\n      full_name: \"Pradeep Hegde\",\n      posts: null,\n      follows: null,\n      followed_by: null,\n      editOpen: false,\n      fullNameRequired: 'dispNone',\n      newFullName: '',\n      mediaData: null,\n      imageModalOpen: false,\n      currentItem: null,\n      likeSet: new Set(),\n      comments: {},\n      filteredData: [],\n      userInfo: [],\n      likes: 3\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getBaseUserInfo();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var likeCount = this.state.likes;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        screen: \"Profile\",\n        userProfileUrl: this.state.profile_picture,\n        handleLogout: this.logout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"information-section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        alt: \"User Image\",\n        src: this.state.profile_picture,\n        style: {\n          width: \"90px\",\n          height: \"90px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          marginLeft: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"600px\",\n          fontSize: \"big\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 25\n        }\n      }, \" \", this.state.username, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 95\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 101\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          float: \"left\",\n          width: \"200px\",\n          fontSize: \"x-small\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 29\n        }\n      }, \" Posts: \", this.state.userInfo.length, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          float: \"left\",\n          width: \"200px\",\n          fontSize: \"x-small\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }\n      }, \" Follows: 5 \"), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          float: \"left\",\n          width: \"200px\",\n          fontSize: \"x-small\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 29\n        }\n      }, \" Followed By: 2 \"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 118\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          fontSize: \"small\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }\n      }, \" \", this.state.full_name, /*#__PURE__*/React.createElement(Fab, {\n        mini: true,\n        variant: \"round\",\n        color: \"secondary\",\n        \"aria-label\": \"Edit\",\n        style: {\n          marginLeft: \"20px\"\n        },\n        onClick: this.handleOpenEditModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 29\n        }\n      }, \"edit_icon\"))), /*#__PURE__*/React.createElement(Modal, {\n        \"aria-labelledby\": \"edit-modal\",\n        \"aria-describedby\": \"modal to edit user full name\",\n        open: this.state.editOpen,\n        onClose: this.handleCloseEditModal,\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h5\",\n        id: \"modal-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 33\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 46\n        }\n      }), /*#__PURE__*/React.createElement(FormControl, {\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(InputLabel, {\n        htmlFor: \"fullname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 37\n        }\n      }, \"Full Name\"), /*#__PURE__*/React.createElement(Input, {\n        id: \"fullname\",\n        onChange: this.inputFullNameChangeHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(FormHelperText, {\n        className: this.state.fullNameRequired,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 93\n        }\n      }, \"required\"))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 47\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 59\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.updateClickHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 33\n        }\n      }, \"UPDATE\"))))), this.state.filteredData != null && /*#__PURE__*/React.createElement(GridList, {\n        cellHeight: 'auto',\n        cols: 3,\n        style: {\n          padding: \"40px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 17\n        }\n      }, this.state.filteredData.map(function (item) {\n        return /*#__PURE__*/React.createElement(GridListTile, {\n          key: item.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(CardMedia, {\n          id: item.id,\n          style: styles.media,\n          image: item.media_url,\n          title: \"\",\n          onClick: _this2.handleOpenImageModal,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 21\n          }\n        }));\n      })), this.state.currentItem != null && /*#__PURE__*/React.createElement(Modal, {\n        \"aria-labelledby\": \"image-modal\",\n        \"aria-describedby\": \"modal to show image details\",\n        open: this.state.imageModalOpen,\n        onClose: this.handleCloseImageModal,\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'row',\n          backgroundColor: \"#fff\",\n          width: '70%',\n          height: '70%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '50%',\n          padding: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        src: this.state.mediaData.media_url,\n        alt: this.state.currentItem.caption,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          width: '50%',\n          padding: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          borderBottom: '2px solid #f2f2f2',\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'flex-start',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        alt: \"User Image\",\n        src: this.state.profile_picture,\n        style: {\n          width: \"50px\",\n          height: \"50px\",\n          margin: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(Typography, {\n        component: \"p\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 29\n        }\n      }, this.state.username)), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          height: '100%',\n          flexDirection: 'column',\n          justifyContent: 'space-between'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        component: \"p\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 29\n        }\n      }, this.state.currentItem.caption), /*#__PURE__*/React.createElement(Typography, {\n        style: {\n          color: '#4dabf5'\n        },\n        component: \"p\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 29\n        }\n      }, \"#Nature #Earth #Peace\"), this.state.comments.hasOwnProperty(this.state.currentItem.id) && this.state.comments[this.state.currentItem.id].map(function (comment, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          className: \"row\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          component: \"p\",\n          style: {\n            fontWeight: 'bold'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 35\n          }\n        }, sessionStorage.getItem('username'), \":\"), /*#__PURE__*/React.createElement(Typography, {\n          component: \"p\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 35\n          }\n        }, comment));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        \"aria-label\": \"Add to favorites\",\n        onClick: this.likeClickHandler.bind(this, this.state.currentItem.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 31\n        }\n      }, this.state.likeSet.has(this.state.currentItem.id) && /*#__PURE__*/React.createElement(FavoriteIconFill, {\n        style: {\n          color: '#F44336'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 87\n        }\n      }), !this.state.likeSet.has(this.state.currentItem.id) && /*#__PURE__*/React.createElement(FavoriteIconBorder, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 88\n        }\n      })), /*#__PURE__*/React.createElement(Typography, {\n        component: \"p\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 31\n        }\n      }, likeCount, \" likes\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        style: {\n          flexGrow: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(InputLabel, {\n        htmlFor: \"comment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 33\n        }\n      }, \"Add Comment\"), /*#__PURE__*/React.createElement(Input, {\n        id: \"comment\",\n        value: this.state.currentComment,\n        onChange: this.commentChangeHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(FormControl, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.onAddCommentClicked.bind(this, this.state.currentItem.id),\n        variant: \"contained\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 33\n        }\n      }, \"ADD\")))))))));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile;","map":{"version":3,"sources":["/Users/pradeeph/Documents/Upgrad_FullStackDevelopment/UpgradCourse7ImageViewer/src/screens/profile/Profile.js"],"names":["React","Component","constants","Header","Avatar","Button","Fab","Icon","Modal","Typography","FormControl","InputLabel","Input","FormHelperText","CardMedia","GridList","GridListTile","IconButton","FavoriteIconBorder","FavoriteIconFill","styles","paper","position","width","backgroundColor","top","margin","boxShadow","padding","media","height","paddingTop","imageModal","Profile","props","getBaseUserInfo","that","url","userInfoUrl","sessionStorage","getItem","fetch","method","then","response","json","jsonResponse","setState","userInfo","data","state","map","index","getMediaData","id","catch","error","console","log","userMediaUrl","filteredData","concat","username","handleOpenEditModal","editOpen","handleCloseEditModal","handleOpenImageModal","event","result","find","item","target","mediaResult","imageModalOpen","currentItem","mediaData","handleCloseImageModal","inputFullNameChangeHandler","e","newFullName","value","updateClickHandler","fullNameRequired","full_name","onLikedClicked","likeCount","likes","isLiked","onAddCommentClicked","currentComment","undefined","commentList","comments","hasOwnProperty","commentChangeHandler","logout","clear","history","replace","profile_picture","posts","follows","followed_by","likeSet","Set","marginLeft","fontSize","float","length","alignItems","justifyContent","media_url","display","flexDirection","caption","borderBottom","color","comment","fontWeight","likeClickHandler","bind","has","flexGrow"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './Profile.css';\r\nimport {constants} from '../../common/utils'\r\nimport Header from '../../common/header/Header';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Input from '@material-ui/core/Input';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FavoriteIconBorder from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIconFill from '@material-ui/icons/Favorite';\r\n\r\nconst styles = {\r\n    paper: {\r\n        position: 'relative',\r\n        width: \"180px\",\r\n        backgroundColor: \"#fff\",\r\n        top: \"30%\",\r\n        margin: \"0 auto\",\r\n        boxShadow: \"2px 2px #888888\",\r\n        padding: \"20px\"\r\n    },\r\n    media: {\r\n        height: '200px',\r\n        paddingTop: '56.25%', // 16:9\r\n    },\r\n    imageModal: {\r\n        backgroundColor: \"#fff\",\r\n        margin: \"0 auto\",\r\n        boxShadow: \"2px 2px #888888\",\r\n        padding: \"10px\",\r\n    }\r\n};\r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        if (sessionStorage.getItem('access-token') == null) {\r\n            props.history.replace('/');\r\n        }\r\n        this.state = {\r\n            profile_picture: 'profile.png',\r\n            username: null,\r\n            full_name: \"Pradeep Hegde\",\r\n            posts: null,\r\n            follows: null,\r\n            followed_by: null,\r\n            editOpen: false,\r\n            fullNameRequired: 'dispNone',\r\n            newFullName: '',\r\n            mediaData: null,\r\n            imageModalOpen: false,\r\n            currentItem: null,\r\n            likeSet:new Set(),\r\n            comments:{},\r\n            filteredData:[],\r\n            userInfo:[],\r\n            likes: 3\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getBaseUserInfo();\r\n    }\r\n\r\n    getBaseUserInfo = () => {\r\n        let that = this;\r\n        let url = `${constants.userInfoUrl}=${sessionStorage.getItem('access-token')}`;\r\n        return fetch(url,{\r\n            method:'GET',\r\n        }).then((response) =>{\r\n            return response.json();\r\n        }).then((jsonResponse) =>{\r\n            that.setState({\r\n                userInfo:jsonResponse.data\r\n            });\r\n            this.state.userInfo.map((data, index) => (\r\n                this.getMediaData(data.id)\r\n            ));\r\n        }).catch((error) => {\r\n            console.log('error user data',error);\r\n        });\r\n    }\r\n\r\n    getMediaData = (id) => {\r\n        let that = this;\r\n        let url = `${constants.userMediaUrl}/${id}?fields=id,media_type,media_url,username,timestamp&access_token=&access_token=${sessionStorage.getItem('access-token')}`;\r\n        return fetch(url,{\r\n            method:'GET',\r\n        }).then((response) =>{\r\n            return response.json();\r\n        }).then((jsonResponse) =>{\r\n            that.setState({\r\n                filteredData: this.state.filteredData.concat(jsonResponse),\r\n                username: jsonResponse.username\r\n            })\r\n        }).catch((error) => {\r\n            console.log('error user data',error);\r\n        });\r\n    }\r\n\r\n    handleOpenEditModal = () => {\r\n        this.setState({ editOpen: true });\r\n    }\r\n\r\n    handleCloseEditModal = () => {\r\n        this.setState({ editOpen: false });\r\n    }\r\n\r\n    handleOpenImageModal = (event) => {\r\n        var result = this.state.userInfo.find(item => {\r\n            return item.id === event.target.id\r\n        })\r\n        var mediaResult = this.state.filteredData.find(item => {\r\n            return item.id === event.target.id\r\n        })\r\n        console.log(result);\r\n        this.setState({ imageModalOpen: true, currentItem: result, mediaData: mediaResult});\r\n    }\r\n\r\n    handleCloseImageModal = () => {\r\n        this.setState({ imageModalOpen: false });\r\n    }\r\n\r\n    inputFullNameChangeHandler = (e) => {\r\n        this.setState({\r\n            newFullName: e.target.value\r\n        })\r\n    }\r\n\r\n    updateClickHandler = () => {\r\n        if (this.state.newFullName === '') {\r\n            this.setState({ fullNameRequired: 'dispBlock'})\r\n        } else {\r\n            this.setState({ fullNameRequired: 'dispNone' })\r\n        }\r\n\r\n        if (this.state.newFullName === \"\") { return }\r\n\r\n        this.setState({\r\n            full_name: this.state.newFullName\r\n        })\r\n\r\n        this.handleCloseEditModal()\r\n    }\r\n\r\n    onLikedClicked = (id) =>{\r\n        let likeCount = this.state.likes;\r\n        if (!this.state.isLiked) {\r\n            likeCount = this.state.likes++;\r\n        } else {\r\n            likeCount = this.state.likes--;\r\n        }\r\n        if (this.state.isLiked) {\r\n            this.setState({\r\n                isLiked:false\r\n            });\r\n        }else {\r\n            this.setState({\r\n                isLiked:true\r\n            });\r\n        }\r\n        this.props.onLikedClicked(id);\r\n    }\r\n\r\n    onAddCommentClicked = (id) => {\r\n      console.log('id',id);\r\n      if (this.state.currentComment === \"\" || typeof this.state.currentComment === undefined) {\r\n        return;\r\n      }\r\n\r\n      let commentList = this.state.comments.hasOwnProperty(id)?\r\n        this.state.comments[id].concat(this.state.currentComment): [].concat(this.state.currentComment);\r\n\r\n      this.setState({\r\n        comments:{\r\n          ...this.state.comments,\r\n          [id]:commentList\r\n        },\r\n        currentComment:''\r\n      })\r\n    }\r\n\r\n    commentChangeHandler = (e) => {\r\n      this.setState({\r\n        currentComment:e.target.value\r\n      });\r\n    }\r\n\r\n    logout = () => {\r\n      sessionStorage.clear();\r\n      this.props.history.replace('/');\r\n    }\r\n\r\n    render() {\r\n        let likeCount = this.state.likes;\r\n        return(\r\n            <div>\r\n                <Header\r\n                  screen={\"Profile\"}\r\n                  userProfileUrl={this.state.profile_picture}\r\n                  handleLogout={this.logout}/>\r\n                <div className=\"information-section\">\r\n                    <Avatar\r\n                        alt=\"User Image\"\r\n                        src={this.state.profile_picture}\r\n                        style={{width: \"90px\", height: \"90px\"}}\r\n                    />\r\n                    <span style={{marginLeft: \"20px\"}}>\r\n                        <div style={{width: \"600px\", fontSize: \"big\"}}> {this.state.username} <br /><br />\r\n                            <div style={{float: \"left\", width: \"200px\", fontSize: \"x-small\"}}> Posts: {this.state.userInfo.length} </div>\r\n                            <div style={{float: \"left\", width: \"200px\", fontSize: \"x-small\"}}> Follows: 5 </div>\r\n                            <div style={{float: \"left\", width: \"200px\", fontSize: \"x-small\"}}> Followed By: 2 </div> <br />\r\n                        </div>\r\n                        <div style={{fontSize: \"small\"}}> {this.state.full_name}\r\n                        <Fab mini variant=\"round\" color=\"secondary\" aria-label=\"Edit\" style={{marginLeft: \"20px\"}} onClick={this.handleOpenEditModal}>\r\n                            <Icon>edit_icon</Icon>\r\n                        </Fab>\r\n                        </div>\r\n                        <Modal\r\n                            aria-labelledby=\"edit-modal\"\r\n                            aria-describedby=\"modal to edit user full name\"\r\n                            open={this.state.editOpen}\r\n                            onClose={this.handleCloseEditModal}\r\n                            style={{alignItems: 'center', justifyContent: 'center'}}\r\n                        >\r\n                            <div style={styles.paper}>\r\n                                <Typography variant=\"h5\" id=\"modal-title\">\r\n                                    Edit\r\n                                </Typography><br />\r\n                                <FormControl required>\r\n                                    <InputLabel htmlFor=\"fullname\">Full Name</InputLabel>\r\n                                    <Input id=\"fullname\" onChange={this.inputFullNameChangeHandler} />\r\n                                    <FormHelperText className={this.state.fullNameRequired}><span className=\"red\">required</span></FormHelperText>\r\n                                </FormControl><br /><br /><br />\r\n                                <Button variant=\"contained\" color=\"primary\" onClick={this.updateClickHandler}>\r\n                                    UPDATE\r\n                                </Button>\r\n                            </div>\r\n                        </Modal>\r\n                    </span>\r\n                </div>\r\n\r\n                {this.state.filteredData != null &&\r\n                <GridList cellHeight={'auto'} cols={3} style={{padding: \"40px\"}}>\r\n                {this.state.filteredData.map(item => (\r\n                    <GridListTile key={item.id}>\r\n                    <CardMedia\r\n                        id={item.id}\r\n                        style={styles.media}\r\n                        image={item.media_url}\r\n                        title=\"\"\r\n                        onClick={this.handleOpenImageModal}\r\n                    />\r\n                    </GridListTile>\r\n                ))}\r\n                </GridList>}\r\n\r\n                {this.state.currentItem != null &&\r\n                <Modal\r\n                    aria-labelledby=\"image-modal\"\r\n                    aria-describedby=\"modal to show image details\"\r\n                    open={this.state.imageModalOpen}\r\n                    onClose={this.handleCloseImageModal}\r\n                    style={{display:'flex',justifyContent:'center',alignItems:'center'}}>\r\n                    <div style={{display:'flex',flexDirection:'row',backgroundColor: \"#fff\",width:'70%',height:'70%'}}>\r\n                      <div style={{width:'50%',padding:10}}>\r\n                        <img style={{height:'100%',width:'100%'}}\r\n                          src={this.state.mediaData.media_url}\r\n                          alt={this.state.currentItem.caption} />\r\n                      </div>\r\n\r\n                      <div style={{display:'flex', flexDirection:'column', width:'50%', padding:10}}>\r\n                        <div style={{borderBottom:'2px solid #f2f2f2',display:'flex', flexDirection:'row',justifyContent:'flex-start',alignItems:'center'}}>\r\n                          <Avatar\r\n                            alt=\"User Image\"\r\n                            src={this.state.profile_picture}\r\n                            style={{width: \"50px\", height: \"50px\",margin:'10px'}}/>\r\n                            <Typography component=\"p\">\r\n                              {this.state.username}\r\n                            </Typography>\r\n                        </div>\r\n                        <div style={{display:'flex', height:'100%', flexDirection:'column', justifyContent:'space-between'}}>\r\n                          <div>\r\n                            <Typography component=\"p\">\r\n                              {this.state.currentItem.caption}\r\n                            </Typography>\r\n                            <Typography style={{color:'#4dabf5'}} component=\"p\" >\r\n                                #Nature #Earth #Peace\r\n                            </Typography>\r\n                            {this.state.comments.hasOwnProperty(this.state.currentItem.id) && this.state.comments[this.state.currentItem.id].map((comment, index)=>{\r\n                              return(\r\n                                <div key={index} className=\"row\">\r\n                                  <Typography component=\"p\" style={{fontWeight:'bold'}}>\r\n                                    {sessionStorage.getItem('username')}:\r\n                                  </Typography>\r\n                                  <Typography component=\"p\" >\r\n                                    {comment}\r\n                                  </Typography>\r\n                                </div>\r\n                              )\r\n                            })}\r\n                          </div>\r\n                          <div>\r\n                            <div className=\"row\">\r\n                              <IconButton aria-label=\"Add to favorites\" onClick={this.likeClickHandler.bind(this,this.state.currentItem.id)}>\r\n                                {this.state.likeSet.has(this.state.currentItem.id) && <FavoriteIconFill style={{color:'#F44336'}}/>}\r\n                                {!this.state.likeSet.has(this.state.currentItem.id) && <FavoriteIconBorder/>}\r\n                              </IconButton>\r\n                              <Typography component=\"p\">\r\n                                  {likeCount} likes\r\n                              </Typography>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                              <FormControl style={{flexGrow:1}}>\r\n                                <InputLabel htmlFor=\"comment\">Add Comment</InputLabel>\r\n                                <Input id=\"comment\" value={this.state.currentComment} onChange={this.commentChangeHandler}/>\r\n                              </FormControl>\r\n                              <FormControl>\r\n                                <Button onClick={this.onAddCommentClicked.bind(this,this.state.currentItem.id)}\r\n                                   variant=\"contained\" color=\"primary\">\r\n                                  ADD\r\n                                </Button>\r\n                              </FormControl>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                </Modal>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}